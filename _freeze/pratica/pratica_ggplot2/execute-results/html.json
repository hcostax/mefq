{
  "hash": "2b4bfe270418dbbbe18bc1cdad98910e",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Atividade Prática - ggplot2\"\nformat:\n  html:\n    df-print: paged\n---\n\n\n![](../img/making_art_2780E3.svg){.hero}\n\n\n::: {.cell}\n\n:::\n\n\n## Pergunta 1\n\na) Carregue o tibble `txhousing` (incluído em \\{tidyverse\\}). Ele contém o número de casas listadas (`listings`) e o preço típico de venda de casas (`median`) em várias cidades e meses do Texas. Crie um tibble de resumo que contenha o número médio de listagens e o preço médio típico de venda de casas em todas as cidades e meses. *Observação:* para esses propósitos descritivos, você pode ignorar os valores ausentes.\n\nb) Modifique sua resposta à Pergunta 1a para gerar as mesmas estatísticas de resumo, mas *por cidade* desta vez (ainda com média em todos os meses).\n\n<p><details>\n<summary>Clique aqui para ver a resposta</summary>\n<blockquote>\n\n**Resposta (a)**\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntxhousing |> \n  summarize(\n    listings = mean(listings, na.rm = TRUE), \n    median = mean(median, na.rm = TRUE)\n  )\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"listings\"],\"name\":[1],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"median\"],\"name\":[2],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"3216.902\",\"2\":\"128131.4\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\n**Resposta (b)**\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntxhousing |> \n  group_by(city) |> \n  summarize(\n    listings = mean(listings, na.rm = TRUE), \n    median = mean(median, na.rm = TRUE)\n  )\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"city\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"listings\"],\"name\":[2],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"median\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"Abilene\",\"2\":\"813.4086\",\"3\":\"98027.81\"},{\"1\":\"Amarillo\",\"2\":\"1286.2143\",\"3\":\"115121.93\"},{\"1\":\"Arlington\",\"2\":\"1945.3172\",\"3\":\"128314.44\"},{\"1\":\"Austin\",\"2\":\"8696.4118\",\"3\":\"181997.86\"},{\"1\":\"Bay Area\",\"2\":\"2999.2097\",\"3\":\"147132.09\"},{\"1\":\"Beaumont\",\"2\":\"1332.0802\",\"3\":\"115171.12\"},{\"1\":\"Brazoria County\",\"2\":\"569.9618\",\"3\":\"116677.46\"},{\"1\":\"Brownsville\",\"2\":\"655.3133\",\"3\":\"95446.49\"},{\"1\":\"Bryan-College Station\",\"2\":\"1159.5561\",\"3\":\"139472.19\"},{\"1\":\"Collin County\",\"2\":\"4738.5968\",\"3\":\"201612.83\"},{\"1\":\"Corpus Christi\",\"2\":\"2309.2418\",\"3\":\"127084.78\"},{\"1\":\"Dallas\",\"2\":\"21789.1075\",\"3\":\"160783.42\"},{\"1\":\"Denton County\",\"2\":\"2877.1290\",\"3\":\"165013.37\"},{\"1\":\"El Paso\",\"2\":\"3454.3913\",\"3\":\"118443.32\"},{\"1\":\"Fort Bend\",\"2\":\"3503.4946\",\"3\":\"183688.77\"},{\"1\":\"Fort Worth\",\"2\":\"4039.3548\",\"3\":\"112495.19\"},{\"1\":\"Galveston\",\"2\":\"972.5333\",\"3\":\"159003.05\"},{\"1\":\"Garland\",\"2\":\"837.0968\",\"3\":\"107308.56\"},{\"1\":\"Harlingen\",\"2\":\"1383.4141\",\"3\":\"87744.44\"},{\"1\":\"Houston\",\"2\":\"29525.9892\",\"3\":\"149779.68\"},{\"1\":\"Irving\",\"2\":\"623.5376\",\"3\":\"138371.12\"},{\"1\":\"Kerrville\",\"2\":\"744.0122\",\"3\":\"165997.59\"},{\"1\":\"Killeen-Fort Hood\",\"2\":\"1375.8160\",\"3\":\"107771.51\"},{\"1\":\"Laredo\",\"2\":\"606.5795\",\"3\":\"129051.01\"},{\"1\":\"Longview-Marshall\",\"2\":\"1442.5862\",\"3\":\"115222.29\"},{\"1\":\"Lubbock\",\"2\":\"1253.7634\",\"3\":\"106510.75\"},{\"1\":\"Lufkin\",\"2\":\"440.5227\",\"3\":\"103624.60\"},{\"1\":\"McAllen\",\"2\":\"2117.7339\",\"3\":\"101174.59\"},{\"1\":\"Midland\",\"2\":\"484.4775\",\"3\":\"189847.32\"},{\"1\":\"Montgomery County\",\"2\":\"3282.3387\",\"3\":\"170987.17\"},{\"1\":\"NE Tarrant County\",\"2\":\"3010.9086\",\"3\":\"164949.20\"},{\"1\":\"Nacogdoches\",\"2\":\"252.0756\",\"3\":\"115931.25\"},{\"1\":\"Odessa\",\"2\":\"314.0617\",\"3\":\"136566.09\"},{\"1\":\"Paris\",\"2\":\"347.4405\",\"3\":\"84220.86\"},{\"1\":\"Port Arthur\",\"2\":\"515.2873\",\"3\":\"96738.38\"},{\"1\":\"San Angelo\",\"2\":\"532.2924\",\"3\":\"107058.92\"},{\"1\":\"San Antonio\",\"2\":\"9611.1141\",\"3\":\"138470.05\"},{\"1\":\"San Marcos\",\"2\":\"162.2784\",\"3\":\"146168.79\"},{\"1\":\"Sherman-Denison\",\"2\":\"901.1989\",\"3\":\"93482.35\"},{\"1\":\"South Padre Island\",\"2\":\"892.5507\",\"3\":\"182208.45\"},{\"1\":\"Temple-Belton\",\"2\":\"879.7325\",\"3\":\"113368.75\"},{\"1\":\"Texarkana\",\"2\":\"630.2336\",\"3\":\"98814.71\"},{\"1\":\"Tyler\",\"2\":\"2367.0802\",\"3\":\"126891.98\"},{\"1\":\"Victoria\",\"2\":\"340.1497\",\"3\":\"118403.78\"},{\"1\":\"Waco\",\"2\":\"1356.9380\",\"3\":\"115134.00\"},{\"1\":\"Wichita Falls\",\"2\":\"835.1818\",\"3\":\"92334.76\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\n</blockquote></details></p>\n\n## Pergunta 2\n\nPara cada um dos seguintes trechos de código, encontre e corrija o(s) erro(s).\n\na) \"O diagrama de dispersão desmiolado\"\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mpg, x = displ, y = hwy) + \n  geom_point()\n```\n:::\n\n\nb) \"Suavização não tão suave\"\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mpg, aes(x = displ, y = hwy)) + \n  geom_point()\n  geom_smooth() +\n  scale_y_continuous(\"Highway MPG\") +\n  scale_x_discrete(\"Engine Size\")\n```\n:::\n\n\nc) \"Um cano com vazamento\"\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(economics, aes(x = date, y = unemploy)) |> \n  geom_line() |> \n  geom_point()\n```\n:::\n\n\n<p><details>\n<summary>Clique aqui pra ver a resposta</summary>\n<blockquote>\n\n**Resposta (a)**\n\nO código esqueceu de colocar os mapeamentos dentro `aes()`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mpg, aes(x = displ, y = hwy)) + # fix 1\n  geom_point() \n```\n\n::: {.cell-output-display}\n![](pratica_ggplot2_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\n**Resposta (b)**\n\nO código esqueceu um `+` e definiu o eixo x como discreto em vez de contínuo.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mpg, aes(x = displ, y = hwy)) + \n  geom_point() + # fix 1\n  geom_smooth() +\n  scale_y_continuous(\"Highway MPG\") +\n  scale_x_continuous(\"Engine Size\") # fix 2\n#> `geom_smooth()` using method = 'loess' and formula = 'y ~ x'\n```\n\n::: {.cell-output-display}\n![](pratica_ggplot2_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\n**Resposta (c)**\n\nO código usava \"pipes\" (`%>%`) em vez de sinais de mais (`+`) para conectar comandos ggplot2.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(economics, aes(x = date, y = unemploy)) + # fix 1\n  geom_line() + # fix 2\n  geom_point()\n```\n\n::: {.cell-output-display}\n![](pratica_ggplot2_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n\n</blockquote></details></p>\n\n## Pergunta 3\n\na) Instale e carregue o pacote \\{palmerpenguins\\}.\n\nb) Recrie o gráfico a seguir o mais próximo possível do tibble `penguins` naquele pacote (não se preocupe em obter as configurações geom exatamente corretas).\n\nc) Limpe os títulos dos eixos x e y para que sejam mais legíveis (por exemplo, \"Flipper length (mm)\" em vez de \"flipper_length_mm\"). *Bônus:* Veja se você consegue descobrir como renomear também o título da legenda.\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](pratica_ggplot2_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\n\n\n<p><details>\n<summary>Clique aqui para ver a resposta</summary>\n<blockquote>\n\n**Resposta (a)**\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Extra pane > Packages tab > Install button > palmerpenguins > Install\n\nlibrary(palmerpenguins)\n```\n:::\n\n\n**Resposta (b)**\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(penguins, aes(x = flipper_length_mm, y = bill_length_mm,\n                     color = species, shape = species)) +\n  geom_point(size = 3, alpha = 0.75)\n```\n\n::: {.cell-output-display}\n![](pratica_ggplot2_files/figure-html/unnamed-chunk-12-1.png){width=672}\n:::\n:::\n\n\n**Resposta (c)**\n\n\n::: {.cell}\n\n```{.r .cell-code}\np <- ggplot(penguins, aes(x = flipper_length_mm, y = bill_length_mm,\n                     color = species, shape = species)) +\n  geom_point(size = 3, alpha = 0.75) +\n  scale_x_continuous(name = \"Flipper length (mm)\") +\n  scale_y_continuous(name = \"Body mass (g)\") +\n  scale_color_discrete(name = \"Penguin species\") +\n  scale_shape_discrete(name = \"Penguin species\")\np\n```\n\n::: {.cell-output-display}\n![](pratica_ggplot2_files/figure-html/unnamed-chunk-13-1.png){width=672}\n:::\n:::\n\n\nOu use este atalho:\n\n\n::: {.cell}\n\n```{.r .cell-code}\np <- ggplot(penguins, aes(x = flipper_length_mm, y = bill_length_mm,\n                     color = species, shape = species)) +\n  geom_point(size = 3, alpha = 0.75) +\n  labs(\n    x = \"Flipper length (mm)\",\n    y = \"Body mass (g)\",\n    color = \"Penguin species\",\n    shape_ = \"Penguin species\"\n  )\np\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Removed 2 rows containing missing values or values outside the scale range\n(`geom_point()`).\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](pratica_ggplot2_files/figure-html/unnamed-chunk-14-1.png){width=672}\n:::\n:::\n\n\n\n</blockquote></details></p>\n\n## Pergunta 4\n\na) Use seu gráfico da Pergunta 3(c) como um objeto gráfico inicial. Aplique o tema completo \"classic\" a ele e mova a legenda para o topo. *Bônus:* Também deixe os títulos dos eixos em itálico (pode ser necessário verificar uma folha de dicas [`cheatsheet`] ou fazer alguma pesquisa para encontrar o elemento certo).\n\nb) Exporte este gráfico como um arquivo de imagem para incluir em um artigo. Faça com que tenha 6,5 ​​polegadas de largura e 4 polegadas de altura. *Bônus:* Abra o Microsoft Word ou o Google Docs e insira a imagem.\n<p><details>\n<summary>Clique aqui para ver a resposta</summary>\n<blockquote>\n\n**Resposta (a)**\n\n\n::: {.cell}\n\n```{.r .cell-code}\np2 <- \n  p + \n  theme_classic() + \n  theme(\n    legend.position = \"top\",\n    axis.title = element_text(face = \"italic\") # bonus\n  )\np2\n```\n\n::: {.cell-output-display}\n![](pratica_ggplot2_files/figure-html/unnamed-chunk-15-1.png){width=672}\n:::\n:::\n\n\n**Resposta (b)**\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggsave(\"practice.png\", plot = p2, width = 6.5, height = 4, units = \"in\")\n```\n:::\n\n\n</blockquote></details></p>\n\n## Recursos\n\n- [R4DS Capítulo 5](https://r4ds.had.co.nz/transform.html) (§5.6–§5.7): Leia mais sobre resumos, agrupamentos e modificações\n\n- [R4DS Capítulo 12](https://r4ds.had.co.nz/tidy-data.html): Leia mais sobre remodelar e organizar dados em R\n\n- [R4DS Capítulo 3](https://r4ds.had.co.nz/data-visualisation.html): Leia uma introdução à visualização\n\n- [GGP2 Capítulo 11](https://ggplot2-book.org/scale-colour.html): Leia mais sobre cores em ggplot2\n\n- [GGP2 Capítulo 18](https://ggplot2-book.org/polishing.html): Leia mais sobre temas em ggplot2\n\n\n",
    "supporting": [
      "pratica_ggplot2_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}